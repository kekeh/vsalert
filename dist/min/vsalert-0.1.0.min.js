/* 
*  Name: vsalert 
*  Description: Alerting service - AngularJS reusable UI component 
*  Version: 0.1.0 
*  Author: kekeh 
*  Homepage: http://kekeh.github.io/vsalert 
*  License: MIT 
*  Date: 2015-09-22 
*/ 
angular.module('template-vsalert-0.1.0.html', []);


angular.module("vsalert",["template-vsalert-0.1.0.html"]).run(["$templateCache",function(a){a.put("vsalert.html",'<div class="vsalert _vsalert_"><span class="vsicon"></span><span class="vstext"></span></div>')}]).constant("vsalertConfig",{ALERT_VISIBLE_TIME:5e3,ALERT_INFINITE_VISIBLE:0,SHOW_ICON_ON_ALERT:!0,ALERT_MARGIN:5,ALERT_ID:"._vsalert_",SUCCESS:"success",INFO:"info",WARNING:"warning",ERROR:"error"}).factory("vsalert",["$rootScope","$compile","$document","$templateCache","$http","$interval","vsalertConfig",function(a,b,c,d,e,f,g){var h={};return h.alert=function(h){e.get("vsalert.html",{cache:d}).success(function(d){function e(){null!==q&&f.cancel(q),i(),p.remove(),l()}function i(){p.off("click",e)}function j(){return c.find("body")}function k(){var a=c[0].querySelectorAll(g.ALERT_ID);if(0===a.length)return g.ALERT_MARGIN;var b=angular.element(a[a.length-1]);return b.prop("offsetTop")+b.prop("offsetHeight")+g.ALERT_MARGIN}function l(){var a=c[0].querySelectorAll(g.ALERT_ID),b=g.ALERT_MARGIN;angular.forEach(a,function(a){a=angular.element(a),a.css("top",b+"px"),b+=a.prop("offsetHeight")+g.ALERT_MARGIN})}function m(a){p.addClass("vsalert-"+a.level.toLowerCase()),o&&angular.element(p.children()[0]).addClass("icon-"+a.level.toLowerCase())}var n=angular.isUndefined(h.visibleTime)?g.ALERT_VISIBLE_TIME:h.visibleTime,o=angular.isUndefined(h.icon)?g.SHOW_ICON_ON_ALERT:h.icon,p=b(angular.element(d))(a.$new());m(h),p.css("top",k()+"px"),p.css("right",g.ALERT_MARGIN+"px"),angular.element(p.children()[1]).text(h.message),p.on("click",e),j().append(p);var q=null;n>g.ALERT_INFINITE_VISIBLE&&(q=f(function(){i(p),p.remove(),l()},n,1))})},h}]);