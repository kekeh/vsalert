/* 
*  Name: vsalert 
*  Description: Alerting service - AngularJS reusable UI component 
*  Version: 0.0.1 
*  Author: kekeh 
*  Homepage: http://kekeh.github.io/vsalert 
*  License: MIT 
*  Date: 2015-07-25 
*/ 
angular.module('template-vsalert-0.0.1.html', []);


angular.module("vsalert",["template-vsalert-0.0.1.html"]).run(function(a){a.put("vsalert.html",'<div class="vsalert"><span class="vsicon"></span><span class="vstext"></span></div>')}).constant("vsalertConfig",{ALERT_VISIBLE_TIME:5e3,ALERT_POSITION:2,SHOW_ICON_ON_ALERT:!0,ALERT_MARGIN:5,SUCCESS:"success",INFO:"info",WARNING:"warning",ERROR:"error"}).factory("vsalert",["$rootScope","$compile","$document","$templateCache","$http","$interval","vsalertConfig",function(a,b,c,d,e,f,g){var h={};return h.alert=function(h){e.get("vsalert.html",{cache:d}).success(function(d){function e(){f.cancel(t),i(),s.remove(),l()}function i(){s.off("click",e)}function j(){return c.find("body")}function k(){return j()[0].scrollTop}function l(){var a=c[0].querySelectorAll(".vsalert");n=g.ALERT_MARGIN+k(),angular.forEach(a,function(a){a=angular.element(a),a.css("top",n+"px"),n+=a.prop("offsetHeight")+g.ALERT_MARGIN})}function m(a){s.addClass("vsalert-"+a.level.toLowerCase()),p&&angular.element(s.children()[0]).addClass("icon-"+a.level.toLowerCase())}var n=0,o=angular.isUndefined(h.timeout)?g.ALERT_VISIBLE_TIME:h.timeout,p=angular.isUndefined(h.icon)?g.SHOW_ICON_ON_ALERT:h.icon,q=a.$new(),r=j(),s=b(angular.element(d))(q);1===g.ALERT_POSITION?s.css("left",r[0].scrollLeft+g.ALERT_MARGIN+"px"):s.css("right",-r[0].scrollLeft+g.ALERT_MARGIN+"px"),m(h),l(),s.css("top",n+"px"),angular.element(s.children()[1]).text(h.message),s.on("click",e),r.append(s);var t=f(function(){i(s),s.remove(),l()},o,1)})},h}]);